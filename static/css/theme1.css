/* ====== Tokens (claro/oscuro) ====== */
:root{
  --bg:#F3F4F6;
  --card:#FFFFFF;
  --txt:#111827;
  --muted:#6B7280;
  --line:#E5E7EB;
  --accent:#0EA5E9;
}
html.dark{
  --bg:#0B0F19;
  --card:#0F172A;
  --txt:#F8FAFC;
  --muted:#94A3B8;
  --line:#1F2937;
  --accent:#38BDF8;
}

/* ====== Base ====== */
body{ background:var(--bg); color:var(--txt); }
a{ color:inherit; text-decoration:none; }
a:hover{ text-decoration:none; }

/* ====== Layout de cabecera y pie ====== */
.app-header{
  position:sticky; top:0; z-index:30;
  background: color-mix(in srgb, var(--card) 92%, transparent);
  backdrop-filter: blur(6px);
  border-bottom:1px solid var(--line);
}
.app-footer{
  border-top:1px solid var(--line);
  color:var(--muted);
}

/* ====== Controles reutilizables ====== */
.input, .select{
  width:100%;
  border:1px solid var(--line);
  background:var(--card);
  color:var(--txt);
  border-radius:0.75rem;
  padding:0.5rem 0.75rem;
  outline:none;
}
.input:focus, .select:focus{ box-shadow:0 0 0 2px var(--accent) inset; }

.btn{
  border:1px solid var(--line);
  background:transparent; color:var(--txt);
  border-radius:0.75rem; padding:0.5rem 0.75rem; cursor:pointer;
}
.btn:hover{ background:var(--bg); }
.btn-primary{ background:var(--accent); border-color:transparent; color:#fff; }
.btn-primary:hover{ filter:brightness(0.95); }
.btn-ghost{ background:transparent; }
.btn-ghost:hover{ background:var(--bg); }

/* ====== Tarjetas / Chips ====== */
.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:1rem;
  overflow:hidden;
  transition: box-shadow .15s ease, transform .15s ease;
}
.card:hover{ box-shadow:0 6px 24px rgb(0 0 0 / .08); }

.chip{
  font-size:11px; padding:.125rem .5rem;
  background: color-mix(in srgb, var(--card) 92%, transparent);
  border:1px solid var(--line);
  border-radius:9999px;
}

/* ====== Utilidades ====== */
.muted{ color:var(--muted); }
.clamp-1{
  display:-webkit-box; -webkit-line-clamp:1; -webkit-box-orient:vertical; overflow:hidden;
}
.aspect-16-9{ aspect-ratio:16/9; } /* fallback manual */

/* ====== Contenido rico (descripción) ====== */
.prose, .prose p, .prose li, .prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  color: var(--txt);
}
.prose a { color: var(--accent); text-decoration: underline; }
.prose blockquote { border-left: 4px solid var(--line); padding-left: .75rem; color: var(--muted); }

/* ====== Ubicación: grid y alineación perfecta ====== */
.ubox .ubox-grid{
  display:grid; grid-template-columns:1fr; gap:2rem; align-items:start;
}
@media (min-width:768px){
  .ubox .ubox-grid{ grid-template-columns: 1fr 1fr; }
}
.ubox .ubox-h3{
  margin:0; line-height:1.25; font-weight:600; font-size:1.25rem; color:var(--txt);
}
.ubox .ubox-body{ margin-top:.75rem; }
.ubox .ubox-body > ul{ margin:0; }       /* quita margen por defecto del UL */
.ubox .ubox-body > :first-child{ margin-top:0; }

/* Marco del mapa con ratio fijo */
.map-frame{
  aspect-ratio:4/3; min-height:160px; width:100%;
  border:1px solid var(--line); border-radius:.5rem; overflow:hidden; background:var(--card);
}
.map-frame iframe{ display:block; width:100%; height:100%; border:0; background:var(--card); }

/* ====== Alias: forzar clases Tailwind comunes a tokens ====== */
.text-gray-900, .text-gray-800, .text-gray-700 { color: var(--txt) !important; }
.text-gray-600, .text-gray-500 { color: var(--muted) !important; }
.bg-white, .bg-gray-50, .bg-gray-100 { background: var(--card) !important; }
.border-gray-100, .border-gray-200, .border-gray-300 { border-color: var(--line) !important; }
