/* =============================
   THEME NEUTRO · GRAYSCALE + GLASS + MOTION
   (opción alternativa para tu sitio)
   - Paleta en escala de grises (sin color) con transparencias sutiles
   - Efectos de vidrio (glassmorphism) y micro‑interacciones
   - Animaciones suaves y utilidades .reveal
   - Compatibilidad con tus clases actuales (.btn, .card, .chip, .app-header, .map-frame, .gallery-thumb, etc.)
   ============================= */

/* ===== Tokens (modo claro / oscuro) ===== */
:root {
  /* Grises base */
  --bg:        #F7F8FA;   /* fondo */
  --card:      #FFFFFF;   /* superficies sólidas */
  --txt:       #121212;   /* texto principal */
  --muted:     #6B7280;   /* texto secundario */
  --line:      #E6E8EE;   /* bordes */

  /* Vidrio / transparencias */
  --glass-bg:  color-mix(in srgb, var(--card) 62%, transparent);
  --glass-brd: color-mix(in srgb, #9AA1AF 30%, transparent);

  /* Interacción/foco (neutro alto contraste) */
  --accent:    #1F2937;   /* sin color, grafito */
  --focus:     #111111;

  /* Sombras */
  --elev-1: 0 2px 10px rgba(0, 0, 0, .06);
  --elev-2: 0 12px 28px rgba(0, 0, 0, .12);
}

html.dark {
  --bg:        #0B0E14;
  --card:      #0F141B;
  --txt:       #F3F4F6;
  --muted:     #A3AAB6;
  --line:      #1B2330;

  --glass-bg:  color-mix(in srgb, var(--card) 55%, transparent);
  --glass-brd: color-mix(in srgb, #A3AAB6 22%, transparent);

  --accent:    #ECECEC;
  --focus:     #FAFAFA;

  --elev-1: 0 2px 10px rgba(0, 0, 0, .35);
  --elev-2: 0 16px 40px rgba(0, 0, 0, .50);
}

/* ===== Base ===== */
html, body { height: 100%; }
body {
  background: var(--bg);
  color: var(--txt);
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
}

/* Enlaces neutros */
a { color: inherit; text-decoration: none; }
a:hover { text-decoration: none; filter: brightness(0.98); }

/* ===== Header / Footer (glass) ===== */
.app-header {
  position: sticky; top: 0; z-index: 40;
  background: var(--glass-bg);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border-bottom: 1px solid var(--glass-brd);
  transition: background .25s ease, border-color .25s ease;
}
.app-header .font-display { letter-spacing: .2px; font-weight: 600; }

.app-footer { border-top:1px solid var(--line); color:var(--muted); }

/* ===== Controles ===== */
.input, .select, input[type="text"], input[type="number"], input[type="email"], textarea {
  width: 100%; border: 1px solid var(--line); background: var(--card); color: var(--txt);
  border-radius: 0.8rem; padding: 0.65rem 0.85rem; outline: none;
  transition: box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.input::placeholder, textarea::placeholder { color: color-mix(in srgb, var(--muted) 80%, transparent); }
.input:focus, .select:focus, input:focus, textarea:focus {
  border-color: color-mix(in srgb, var(--accent) 35%, var(--line));
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 20%, transparent);
}

/* Foco visible accesible */
.btn:focus-visible, a:focus-visible, .input:focus-visible, .select:focus-visible {
  outline: 2px solid var(--focus); outline-offset: 2px;
}

/* ===== Botones con ripple neutro ===== */
.btn {
  position: relative; overflow: hidden;
  display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
  border: 1px solid var(--line); background: transparent; color: var(--txt);
  border-radius: 0.8rem; padding: 0.6rem 0.95rem; cursor: pointer;
  transition: transform .06s ease, filter .15s ease, background .2s ease, border-color .2s ease;
}
.btn:hover { background: color-mix(in srgb, var(--bg) 75%, transparent); }
.btn:active { transform: translateY(1px); }

/* Ripple */
.btn::after {
  content: ""; position: absolute; inset: 0; pointer-events: none; opacity: 0;
  background: radial-gradient(120px 120px at center, rgba(0,0,0,.10), transparent 60%);
  transform: scale(0.9); transition: opacity .2s ease, transform .2s ease;
}
.btn:active::after { opacity: 1; transform: scale(1.1); }

.btn-primary { background: var(--accent); border-color: transparent; color: #fff; }
.btn-primary:hover { filter: brightness(0.97); }
.btn-outline { border-color: color-mix(in srgb, var(--accent) 35%, var(--line)); color: var(--accent); }
.btn-outline:hover { background: color-mix(in srgb, var(--accent) 6%, transparent); }
.btn-ghost { background: transparent; }
.btn-ghost:hover { background: color-mix(in srgb, var(--bg) 85%, transparent); }
.btn-sm { padding: .38rem .6rem; border-radius: .55rem; font-size: .92rem; }
.btn-lg { padding: .85rem 1.25rem; border-radius: .95rem; font-weight: 600; }

/* ===== Tarjetas (levitación + glass opcional) ===== */
.card {
  background: var(--card); border: 1px solid var(--line); border-radius: 1rem;
  overflow: hidden; box-shadow: var(--elev-1);
  transition: box-shadow .25s ease, transform .25s ease, border-color .25s ease;
  animation: fadeUp .5s ease both;
}
.card:hover { box-shadow: var(--elev-2); transform: translateY(-4px); }
.card--glass { background: var(--glass-bg); backdrop-filter: blur(10px) saturate(120%); -webkit-backdrop-filter: blur(10px) saturate(120%); border-color: var(--glass-brd); }

/* Imagen en grises por defecto con retorno a color al hover */
.card img { filter: grayscale(25%); transition: filter .35s ease, transform .35s ease; }
.card:hover img { filter: grayscale(0%); transform: scale(1.01); }
.no-gray img { filter: none !important; }

/* Chips / Badges neutros */
.chip, .badge {
  display: inline-flex; align-items: center; gap: .35rem;
  font-size: 11px; font-weight: 600; letter-spacing: .2px;
  padding: .26rem .65rem; border-radius: 9999px;
  background: color-mix(in srgb, var(--card) 92%, transparent);
  border: 1px solid var(--line); color: var(--muted);
}
.badge--accent { background: color-mix(in srgb, #111 8%, var(--card)); color: var(--accent); border-color: color-mix(in srgb, #111 22%, var(--line)); }

/* Tipografía utilitaria */
.muted { color: var(--muted); }
.font-display { font-family: "Poppins", "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; }
.clamp-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
.clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

/* ===== Galería / Imágenes ===== */
img { max-width: 100%; height: auto; }
.gallery-thumb { border:1px solid var(--line); border-radius: .6rem; transition: transform .2s ease, opacity .2s ease; }
.gallery-thumb:hover { transform: translateY(-2px); opacity: .95; }

/* ===== Paginación ===== */
.pagination { display: flex; align-items: center; gap: .45rem; }
.pagination a, .pagination span { border:1px solid var(--line); background: var(--card); padding: .45rem .75rem; border-radius: .65rem; transition: background .2s ease, border-color .2s ease; }
.pagination .is-active { border-color: #2A2A2A; color: #2A2A2A; font-weight: 600; }

/* ===== Bloques de ubicación (detalle) ===== */
.ubox .ubox-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; align-items: start; }
@media (min-width:768px){ .ubox .ubox-grid{ grid-template-columns: 1fr 1fr; } }
.ubox .ubox-h3 { margin: 0; line-height: 1.25; font-weight: 600; font-size: 1.25rem; color: var(--txt); }
.ubox .ubox-body { margin-top: .75rem; }
.ubox .ubox-body > ul { margin: 0; }

/* Marco de mapa */
.map-frame { aspect-ratio: 4/3; min-height: 160px; width: 100%; border: 1px solid var(--line); border-radius: .8rem; overflow: hidden; background: var(--card); transition: box-shadow .25s ease, transform .25s ease; }
.map-frame:hover { box-shadow: var(--elev-2); transform: translateY(-2px); }
.map-frame iframe { display: block; width: 100%; height: 100%; border: 0; background: var(--card); }

/* ===== Tablas ===== */
.table { width: 100%; border-collapse: separate; border-spacing: 0; background: var(--card); border:1px solid var(--line); border-radius: .8rem; overflow: hidden; }
.table thead th { text-align: left; font-weight: 600; color: var(--muted); background: color-mix(in srgb, var(--card) 90%, transparent); padding: .8rem .9rem; border-bottom: 1px solid var(--line); }
.table tbody td { padding: .8rem .9rem; border-bottom: 1px solid var(--line); }
.table tbody tr:hover { background: color-mix(in srgb, var(--bg) 82%, transparent); }

/* ===== Utilidades de animación / efectos ===== */
@keyframes fadeUp { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes pulseSoft { 0%,100% { opacity: 1; } 50% { opacity: .5; } }

/* Aparece al entrar */
.reveal { opacity: 0; animation: fadeUp .6s ease forwards; }
.reveal.delay-1 { animation-delay: .08s; }
.reveal.delay-2 { animation-delay: .16s; }
.reveal.delay-3 { animation-delay: .24s; }

/* Skeleton loader (para imágenes/boxes) */
.skeleton { position: relative; overflow: hidden; background: color-mix(in srgb, var(--card) 85%, var(--line)); }
.skeleton::after {
  content: ""; position: absolute; inset: 0; transform: translateX(-100%);
  background: linear-gradient(90deg, transparent, color-mix(in srgb, #fff 60%, transparent), transparent);
  animation: shimmer 1.25s infinite;
}
@keyframes shimmer { 100% { transform: translateX(100%); } }

/* ===== Alias tokenizados para Tailwind comunes ===== */
.text-gray-900, .text-gray-800, .text-gray-700 { color: var(--txt) !important; }
.text-gray-600, .text-gray-500 { color: var(--muted) !important; }
.bg-white, .bg-gray-50, .bg-gray-100 { background: var(--card) !important; }
.border-gray-100, .border-gray-200, .border-gray-300 { border-color: var(--line) !important; }

/* ===== Accesibilidad ===== */
:focus:not(:focus-visible) { outline: none; }
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

/* ===== Preferencias de movimiento ===== */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

.mobile-nav{ background: var(--card); border-color: var(--line); }
.mobile-nav a.btn{ justify-content: flex-start; }


/* Tarjeta de propiedad con alturas consistentes */
.property-card{ display:flex; flex-direction:column; height:100%; }

/* Contenedor de miniatura con ratio fijo */
.property-card .thumb{
  aspect-ratio: 16/10; /* similar a 1.6:1, podés cambiarlo a 4/3 si preferís */
  overflow:hidden; background: var(--bg);
  border-bottom: 1px solid var(--line);
}
.property-card .thumb > img{
  width:100%; height:100%; object-fit:cover; display:block;
}

/* Contenido elástico + botón al pie */
.property-card .content{ display:flex; flex-direction:column; gap:.5rem; padding:1rem; flex:1 1 auto; }
.property-card .cta{ margin-top:auto; }

/* Clamp de 2 líneas para títulos más largos */
.clamp-2{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }

/* --- Cards de propiedades con altura uniforme --- */
.property-card { display: flex; flex-direction: column; height: 100%; }

/* Miniatura con ratio fijo: evita saltos por imágenes de diferentes tamaños */
.property-card .thumb {
  aspect-ratio: 16/10;         /* Cambiá a 4/3 o 3/2 si tus fotos lo piden */
  overflow: hidden;
  background: var(--bg);
  border-bottom: 1px solid var(--line);
}
.property-card .thumb > img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Cuerpo elástico y CTA abajo */
.property-card .content {
  display: flex;
  flex-direction: column;
  gap: .5rem;
  padding: 1rem;
  flex: 1 1 auto;              /* Esto empuja la CTA hacia el fondo */
}
.property-card .cta { margin-top: auto; }

/* Clamps por si no los tenías ya */
.clamp-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
.clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }


/* ===== Correcciones de contraste e iconografía ===== */

/* Color base para íconos (incluye hamburguesa y lupa) */
:root { --icon: var(--txt); }
html.dark { --icon: #F3F4F6; }

/* Botón del menú móvil con trazo nítido y borde suave */
#mobileNavToggle { border: 1px solid var(--line); border-radius: .7rem; }
#mobileNavToggle:hover { background: color-mix(in srgb, var(--bg) 85%, transparent); }
#mobileNavToggle svg { width: 1.5rem; height: 1.5rem; }
#mobileNavToggle svg line,
#mobileNavToggle svg path {
  stroke: var(--icon);
  stroke-width: 2.25;
  stroke-linecap: round;
  fill: none;
}

/* Botón primario consistente en claro/oscuro (arregla "Aplicar" en filtros) */
:root {
  --btn-primary-bg: #111827; /* gray-900 */
  --btn-primary-fg: #ffffff;
}
html.dark {
  --btn-primary-bg: #111827; /* mantenemos oscuro para contrastar en fondos oscuros */
  --btn-primary-fg: #ffffff;
}
.btn-primary {
  background: var(--btn-primary-bg) !important;
  color: var(--btn-primary-fg) !important;
  border-color: transparent !important;
  box-shadow: 0 1px 0 rgba(0,0,0,.2);
}
.btn-primary:hover { filter: brightness(1.05); }
.btn-primary:focus-visible {
  outline: 2px solid var(--focus);
  outline-offset: 2px;
}

/* (Opcional) un poco más de presencia en botones del header en mobile */
@media (max-width: 640px) {
  .app-header .btn-ghost { opacity: .95; }
  .app-header .btn-ghost:hover { background: color-mix(in srgb, var(--bg) 85%, transparent); }
}
